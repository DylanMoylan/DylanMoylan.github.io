(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{1866:function(e,t,r){"use strict";var s=r("5572"),a=r.n(s);a.a},"311b":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{staticClass:"flex"},[r("div",{staticClass:"col"},[r("q-scroll-area",{ref:"scrollArea",staticStyle:{height:"100%"},attrs:{visible:"",id:"test"}},[r("div",{staticClass:"q-pa-lg",staticStyle:{"max-width":"90%"}},[r("div",{staticClass:"text-h4 q-mb-md"},[e._v(e._s(e.title))]),e.view?r("div",[r("q-btn",{staticClass:"text-primary",attrs:{icon:"navigate_before",label:"Settings","no-caps":"",flat:""},on:{click:function(t){return e.setView(null,e.routeGuarded)}}})],1):r("q-list",{staticClass:"settings-list"},[r("q-item",{attrs:{clickable:""},on:{click:function(t){return e.setView("supporterList")}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"supervisor_account"}})],1),r("q-item-section",[r("q-item-label",[e._v("\n                            Partners/Supporters\n                        ")]),r("q-item-label",{attrs:{caption:""}},[e._v("\n                            Add to, remove from, and view the list of partners and supporters.\n                        ")])],1)],1),e.hasPermission("addUser")?r("q-item",{attrs:{clickable:""},on:{click:function(t){return e.setView("userList")}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"assignment_ind"}})],1),r("q-item-section",[r("q-item-label",[e._v("\n                                Manage Team\n                            ")]),r("q-item-label",{attrs:{caption:""}},[e._v("\n                                Add and remove members from your team, manage their role and access permissions\n                            ")])],1)],1):e._e(),r("q-item",{attrs:{clickable:""},on:{click:function(t){return e.setView("feedback")}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"rate_review"}})],1),r("q-item-section",[r("q-item-label",[e._v("\n                                Feedback Form\n                            ")]),r("q-item-label",{attrs:{caption:""}},[e._v("\n                                Submit suggestions, feedback, and error/issue reports.\n                            ")])],1)],1),r("q-item",{attrs:{clickable:""},on:{click:e.routeToUserDocs}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"picture_as_pdf"}})],1),r("q-item-section",[r("q-item-label",[e._v("\n                               User Documentation\n                            ")]),r("q-item-label",{attrs:{caption:""}},[e._v("\n                                How to use Ticket Runner\n                            ")])],1)],1)],1)],1),r("div",{staticClass:"q-my-lg"},["supporterList"===e.view?r("supporter-list",{attrs:{supporterRoute:e.supporterRoute},on:{createEdit:e.guardRoute}}):e._e(),"userList"===e.view&&e.hasPermission("addUser")?r("user-list"):e._e(),"feedback"==e.view?r("feedback-form"):e._e(),"badgeCreator"==e.view?r("div",{staticClass:"q-mx-lg q-px-lg"},[r("new-badge-generator")],1):e._e()],1)])],1)])},a=[],i=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("9523")),n=r.n(i),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row justify-evenly q-my-lg"},[r("div",{staticClass:"row col-md-5"},[r("div",{staticClass:"full-width"},[r("q-item",[r("q-item-section",[r("q-item-label",{staticClass:"row"},[r("q-input",{staticClass:"col-grow",attrs:{label:"Search Partners/Supporters",debounce:"500"},on:{keyup:e.maybeClear},scopedSlots:e._u([{key:"append",fn:function(){return[e.partnerSearch.length?r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"cancel"},on:{click:function(t){t.stopPropagation(),e.partnerSearch=""}}}):e._e(),r("q-btn",{staticStyle:{cursor:"pointer"},attrs:{ripple:"",icon:"search",rounded:"",flat:"",name:"search"}})]},proxy:!0}]),model:{value:e.partnerSearch,callback:function(t){e.partnerSearch=t},expression:"partnerSearch"}}),r("q-btn",{staticClass:"col-shrink q-ml-sm",attrs:{icon:"assignment"},on:{click:e.importModal}},[r("q-tooltip",{attrs:{"content-class":"bg-primary text-body2"}},[e._v("\n                Import Supporters/Partners from CSV\n              ")])],1)],1)],1)],1),r("q-item",{staticClass:"row justify-center items-center text-bold",attrs:{clickable:""},on:{click:e.triggerCreate}},[r("q-icon",{attrs:{color:"primary",name:"add"}}),r("span",{staticClass:"text-primary q-ml-sm"},[e._v("Add new partner/supporter")])],1),r("q-virtual-scroll",{staticStyle:{height:"50vh"},attrs:{items:e.filterPartners,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item,a=t.index;return[r("q-item",{key:"ps"+a,attrs:{clickable:""},on:{click:function(t){return e.select(s.primaryName)}}},[r("q-item-section",[r("q-item-label",[e._v(e._s(s.primaryName))]),e._l(s.altNames?s.altNames.slice(0,4):s.altNames,(function(t,s){return r("q-item-label",{key:"aN"+s,attrs:{caption:""}},[e._v(e._s(t))])}))],2),r("q-item-section",{attrs:{avatar:""}},[r("span",{staticClass:"text-primary"},[e._v("\n                  "+e._s("supporter"==s.partnerOrSupporter?"Supporter":"Partner")+"\n                ")])])],1)]}}])})],1)]),r("div",{staticClass:"row col-md-5"},[r("q-form",{staticClass:"col-grow"},[e.selectedID||e.createEdit?r("q-card",[r("q-card-section",{staticClass:"row justify-between items-center text-bold text-h6"},[r("q-input",{staticClass:"col-grow",attrs:{label:"Partner/Supporter Name",disable:!1===e.createEdit},model:{value:e.primaryName,callback:function(t){e.primaryName=t},expression:"primaryName"}}),r("div",[e.selectedID&&!e.createEdit?r("q-btn",{attrs:{icon:"create",round:"",flat:""},on:{click:e.setEdit}},[r("q-tooltip",{attrs:{"content-class":"bg-primary text-white text-body1"}},[e._v("Edit")])],1):e._e(),r("q-btn",{attrs:{icon:"cancel",round:"",flat:""},on:{click:e.closeDetails}},[r("q-tooltip",{attrs:{"content-class":"bg-primary text-white text-body1"}},[e._v("Close")])],1)],1)],1),r("q-separator"),r("q-card-section",{staticClass:"row justify-between text-left items-center"},[r("div",[r("q-radio",{attrs:{val:"partner",label:"Partner",disable:!e.createEdit},model:{value:e.partnerOrSupporter,callback:function(t){e.partnerOrSupporter=t},expression:"partnerOrSupporter"}}),r("q-radio",{attrs:{val:"supporter",label:"Supporter",disable:!e.createEdit},model:{value:e.partnerOrSupporter,callback:function(t){e.partnerOrSupporter=t},expression:"partnerOrSupporter"}})],1),e.partnerOrSupporter?e._e():r("div",{staticClass:"text-negative text-bold q-mr-md text-body1"},[e._v("\n            * Required\n          ")])]),r("q-separator"),r("q-separator"),r("q-card-section",[r("span",{staticClass:"text-primary text-bold"},[e._v(e._s("supporter"==e.partnerOrSupporter?"Supporter Badge Links":"Partner Logo Links")+": ")]),r("span",{staticClass:"text-grey-6"},[e._v("(Link to SPO folder or hosted badge URL)")]),e.createEdit?[r("q-select",{ref:"partnerLogos",attrs:{"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",rules:[function(e){return/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/.test(e)||!e||!e.length||"Valid URL required."}]},on:{"new-value":e.validateAndAdd},scopedSlots:e._u([{key:"hint",fn:function(){return[r("div",{staticClass:"text-primary"},[r("strong",[e._v("Press Enter")]),e._v(" to add a new URL to the list.")])]},proxy:!0}],null,!1,58465597),model:{value:e.logos,callback:function(t){e.logos=t},expression:"logos"}})]:e._l(e.logos,(function(t,s){return r("span",{key:s,staticClass:"q-mr-md"},[r("a",{attrs:{target:"_blank",href:t}},[e._v(e._s(t))])])}))],2),r("q-separator"),Object.keys(e.badges).length?r("q-card-section",[r("span",{staticClass:"text-primary text-bold"},[e._v("Badges: ")]),e._l(e.badges,(function(t,s){return r("div",{key:"b"+s,staticClass:"q-mb-sm"},[r("a",{attrs:{href:t.imageString,download:e.primaryName.replace(/[^a-z0-9]/gi,"")+".png"}},[r("img",{attrs:{src:t.imageString,alt:"Supporter Badge"}}),r("q-tooltip",{attrs:{"content-class":"bg-primary text-white text-body1"}},[e._v("\n                Click to download image.\n              ")])],1),e.createEdit?r("q-btn",{staticClass:"float-right",attrs:{icon:"cancel",round:"",flat:""},on:{click:function(t){return e.preRemoveBadge(s)}}},[r("q-tooltip",{attrs:{color:"primary"}},[e._v("Remove Badge")])],1):e._e()],1)}))],2):e._e(),r("q-separator"),r("q-card-section",[r("span",{staticClass:"text-primary text-bold"},[e._v("Partner Statements: ")]),r("q-input",{attrs:{type:"textarea",disable:!e.createEdit},model:{value:e.statements,callback:function(t){e.statements=t},expression:"statements"}})],1),r("q-separator"),e.createEdit?r("q-card-section",[r("span",{staticClass:"text-primary text-bold"},[e._v("Create Badge: ")]),r("q-select",{attrs:{options:e.badgeTypes,label:"Badge Type","stack-label":!1},on:{input:e.scrollWindow},model:{value:e.badgeType,callback:function(t){e.badgeType=t},expression:"badgeType"}})],1):e._e(),r("q-separator"),e.createEdit?r("q-card-actions",{staticClass:"row justify-end q-pa-md"},[e.selectedID?r("q-btn",{attrs:{label:"Delete Supporter",color:"negative"},on:{click:function(t){return e.preRemovePartner(e.selectedID)}}}):e._e(),r("q-btn",{attrs:{label:"Cancel",color:"primary"},on:{click:e.closeDetails}}),r("q-btn",{attrs:{label:"Save",color:"primary",disable:!e.partnerOrSupporter},on:{click:e.submitPartner}})],1):e._e()],1):e._e()],1)],1),e.createEdit?r("div",{staticClass:"col col-8"},[e.badgeType?r("badge-generator",{attrs:{isOUS:"OUS"===e.badgeType,isPartner:"Partner"===e.badgeType,selected:e.selected},on:{closeBadge:e.hideGenerator}}):e._e()],1):e._e()])},c=[],l=(r("f751"),r("7514"),r("0d6d"),r("2f62")),u=r("6165"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container",attrs:{id:"badgeCreator"}},[r("h3",[e._v(e._s(e.headingText))]),r("div",{staticClass:"steps"},[r("ul",{staticClass:"breadcrumb row"},[e._m(0),r("div",{staticClass:"input-form col-xs-12"},[r("div",{staticClass:"rule-inputform"},[e.isOUS?[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.supporterStatement,expression:"supporterStatement"}],staticClass:"textarea-attribution",attrs:{id:"inputpartner"},domProps:{value:e.supporterStatement},on:{input:function(t){t.target.composing||(e.supporterStatement=t.target.value)}}}),r("br"),r("br"),r("p",[e._v("Choose logos (jpg or png file)")]),r("input",{staticClass:"partner1file",attrs:{type:"file"}}),r("br"),r("br"),r("a",{attrs:{href:"#",id:"button"}},[e._v("change")])]:e.isPartner?[e._v("\n                        Choose logos (jpg or png file)\n                        "),r("input",{staticClass:"partner1file",attrs:{type:"file"}}),r("br"),r("br"),r("input",{staticClass:"partner2file",attrs:{type:"file"}}),r("br"),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.partnerStatement,expression:"partnerStatement"}],staticClass:"textarea-attribution",attrs:{id:"inputpartner"},domProps:{value:e.partnerStatement},on:{input:function(t){t.target.composing||(e.partnerStatement=t.target.value)}}},[e._v("Partner Statement")])]:[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.attribution,expression:"attribution"}],attrs:{id:"inputAttribution"},domProps:{value:e.attribution},on:{input:function(t){t.target.composing||(e.attribution=t.target.value)}}}),r("br"),r("br"),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.supporter,expression:"supporter"}],staticClass:"textarea-attribution",attrs:{id:"inputSupporter"},domProps:{value:e.supporter},on:{input:function(t){t.target.composing||(e.supporter=t.target.value)}}}),r("br"),r("br"),r("br"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.misc,expression:"misc"}],attrs:{id:"inputMisc",placeholder:"Misc"},domProps:{value:e.misc},on:{input:function(t){t.target.composing||(e.misc=t.target.value)}}}),r("p",{staticClass:"misc-text"},[e._v("Use for text under supporter name if needed")])]],2)]),e._m(1),r("div",{staticClass:"preview col-xs-12 q-pb-lg"},[r("div",{staticClass:"rule-preview"},[r("div",{ref:"htmlContentHolder",attrs:{id:"html-content-holder"}},[r("div",{staticClass:"textpad"},[e.isOUS?[r("div",{staticClass:"partnerContainer"},[r("div",{staticClass:"partner"},[r("p",{staticClass:"supporterStatment"},[e._v(e._s(e.supporterStatement))])])]),r("div",{staticClass:"partner1"})]:e.isPartner?[r("div",{staticClass:"partner1"}),r("div",{staticClass:"partner2"}),r("p",{staticClass:"partner"},[e._v("Enter Partner Statement in Step 1")])]:[r("p",{staticClass:"attribution"},[e._v(e._s(e.attribution))]),r("div",{staticStyle:{position:"relative"}},[r("p",{staticClass:"supporter",staticStyle:{"vertical-align":"middle"}},[e._v(e._s(e.supporter))])]),r("p",{staticClass:"misc"},[e._v(e._s(e.misc))])]],2)]),e.isOUS?[e._m(2),e._m(3)]:e.isPartner?[e._m(4),e._m(5)]:[e._m(6),e._m(7)],r("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[r("input",{attrs:{id:"btn-Preview-Image",type:"button",value:"Preview Badge"},on:{click:e.print}})])],2)]),e._m(8),r("div",{staticClass:"preview-download col-xs-12"},[r("div",{attrs:{id:"previewImage"}},[e.output?r("img",{attrs:{src:e.output,alt:"Image"}}):r("span",[e._v("Image will be loaded here!")])]),r("br"),e.output?r("a",{attrs:{id:"btn-Convert-Html2Image",href:e.imageHref,download:e.downloadFilename},on:{click:e.emitBadge}},[e._v("Make Badge")]):e._e()])])])])},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"breadcrumb first-crumb col-xs-12"},[r("span",{staticClass:"stepsize1"},[r("span",{staticClass:"stepsText"},[r("span",{staticClass:"stepsNumber"},[e._v("1")]),r("span",{staticClass:"stepsLetter"},[e._v(" Insert Text")])])]),r("div",{staticClass:"right-triangle absolute-right"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"breadcrumb col-xs-12"},[r("span",{staticClass:"stepsize2"},[r("span",{staticClass:"stepsNumber"},[e._v("2")]),r("span",{staticClass:"stepsLetter"},[e._v(" Live Preview ")])]),r("div",{staticClass:"right-triangle absolute-right"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizePartner1"},[e._v("\n                            Resize Supporter Logo \n                            "),r("input",{staticClass:"increasePartner1",attrs:{type:"button",id:"btn-Increase",value:" + "}}),r("input",{staticClass:"decreasePartner1",attrs:{type:"button",id:"btn-Decrease",value:" - "}}),r("input",{staticClass:"resetMePartner1",attrs:{type:"button",id:"btn-Reset",value:" Reset "}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizeMiscText"},[e._v("\n                            Supporter Statemtment \n                            "),r("input",{staticClass:"increaseMisc",attrs:{type:"button",id:"btn-Increase",value:" + "}}),r("input",{staticClass:"decreaseMisc",attrs:{type:"button",id:"btn-Decrease",value:" - "}}),r("input",{staticClass:"resetMeMisc",attrs:{type:"button",id:"btn-Reset",value:" Reset "}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizePartner1"},[e._v("\n                            Partner Logo Top \n                            "),r("input",{staticClass:"increasePartner1",attrs:{type:"button",id:"btn-Increase",value:" + "}}),r("input",{staticClass:"decreasePartner1",attrs:{type:"button",id:"btn-Decrease",value:" - "}}),r("input",{staticClass:"resetMePartner1",attrs:{type:"button",id:"btn-Reset",value:" Reset "}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizePartner2"},[e._v("\n                            Partner Logo Bottom \n                            "),r("input",{staticClass:"increasePartner2",attrs:{type:"button",id:"btn-Increase",value:" + "}}),r("input",{staticClass:"decreasePartner2",attrs:{type:"button",id:"btn-Decrease",value:" - "}}),r("input",{staticClass:"resetMePartner2",attrs:{type:"button",id:"btn-Reset",value:" Reset "}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizeSupporterText"},[e._v("\n                            Supporter Text \n                            "),r("input",{staticClass:"increase",attrs:{type:"button",id:"btn-Increase",value:" + "}}),r("input",{staticClass:"decrease",attrs:{type:"button",id:"btn-Decrease",value:" - "}}),r("input",{staticClass:"resetMe",attrs:{type:"button",id:"btn-Reset",value:" Reset "}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizeMiscText"},[e._v("\n                            Misc Text \n                            "),r("input",{staticClass:"increaseMisc",attrs:{type:"button",id:"btn-Increase",value:" + "}}),r("input",{staticClass:"decreaseMisc",attrs:{type:"button",id:"btn-Decrease",value:" - "}}),r("input",{staticClass:"resetMeMisc",attrs:{type:"button",id:"btn-Reset",value:" Reset "}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"breadcrumb last-crumb col-xs-12"},[r("span",{staticClass:"stepsize3"},[r("span",{staticClass:"stepsText"},[r("span",{staticClass:"stepsNumber"},[e._v("3")]),r("span",{staticClass:"stepsLetter"},[e._v(" Download PNG")])])])])}],m=(r("a481"),r("a34a")),f=r.n(m),h=(r("96cf"),r("c973")),b=r.n(h),g=r("1157"),v=r.n(g),y=r("2b0e"),x=function(){return{partnerStatement:"",supporterStatement:"",attribution:"",supporter:"",misc:"",fileName:"",dateCreated:"",imageString:"",imageUrl:"",type:""}},w={props:["isOUS","isPartner","selected"],data:function(){return{output:null,attribution:"Attribution",supporter:"Supporter",misc:"",supporterStatement:"Supporter Statement",partnerStatement:"Partner Statement"}},methods:{emitBadge:function(){var e=x();console.log(x),e.partnerStatement=this.partnerStatement,e.supporterStatement=this.supporterStatement,e.attribution=this.attribution,e.supporter=this.supporter,e.misc=this.misc,e.imageUrl="http://google.com",e.imageString=this.imageHref,e.dateCreated=Date.now(),e.type=this.type;var t=Object.keys(this.selected.badges).length;y["default"].set(this.selected.badges,t+1,e),this.$emit("closeBadge")},print:function(){var e=this;return b()(f.a.mark((function t(){var r,s;return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$refs.htmlContentHolder,s={type:"dataURL",dpi:144},t.next=4,e.$html2canvas(r,s);case 4:e.output=t.sent;case 5:case"end":return t.stop()}}),t)})))()}},computed:{type:function(){var e="us";return this.isOUS?e="ous":this.isPartner&&(e="partner"),e},headingText:function(){var e="Text Supporter Badge Generator";return this.isOUS?e="OUS Text and Logo Badge Generator":this.isPartner&&(e="Text partner Badge Generator"),e},imageHref:function(){return this.output?this.output.replace(/^data:image\/png/,"data:application/octet-stream"):""},downloadFilename:function(){return"".concat(this.supporter.trim().replace(/\s/g,"_"),"-txt-").concat((new Date).getFullYear(),".png")}},mounted:function(){this.supporter=this.selected.primaryName,v()("textarea").keypress((function(e){13==e.keyCode&&(e.preventDefault(),this.value=this.value.substring(0,this.selectionStart)+"<br />\n")})),this.isOUS?v()((function(){v()(".resetMePartner1").click((function(){var e=v()(".partner1 img").css("height");v()(".partner1 img").css("height",e),v()(".partner1").append(e)})),v()(".increasePartner1").click((function(){var e=v()(".partner1 img").css("height");e=parseFloat(e)+5;return v()(".partner1 img").css("height",e),!1})),v()(".decreasePartner1").click((function(){var e=v()(".partner1 img").css("height");e=v()(".partner1 img").css("height"),e=parseFloat(e)-5;return v()(".partner1 img").css("height",e),!1})),v()(".resetMePartner2").click((function(){var e=v()(".partner2 img").css("height");v()(".partner2 img").css("height",e),v()(".partner2").append(e)})),v()(".increasePartner2").click((function(){var e=275,t=v()(".partner2 img").css("width"),r=v()(".partner2 img").css("height"),s=(t=parseFloat(t),parseFloat(r)+5);return t==e&&(alert("Maximum width reached! Try to keep the logo text height at 30px"),v()(".partner2 img").css("width",e),v()(".partner2 img").css("height","auto")),t>e&&(v()(".partner2 img").css("width",e),v()(".partner2 img").css("height","auto")),t<e&&v()(".partner2 img").css("height",s),!1})),v()(".decreasePartner2").click((function(){var e=275,t=v()(".partner2 img").css("width"),r=v()(".partner2 img").css("height"),s=(t=parseFloat(t),parseFloat(r)-5);return v()(".partner2 img").css("width",""),t==e&&(v()(".partner2 img").css("height",s),v()(".partner2 img").css("max-width",e)),t>e&&(v()(".partner2 img").css("height",s),v()(".partner2 img").css("max-width",e)),t<e&&(v()(".partner2 img").css("height",s),v()(".partner2 img").css("max-width",e)),!1}));var e=v()(".partner").css("font-size");v()(".partner").click((function(){v()(".partner").css("font-size",e)})),v()(".increaseMisc").click((function(){var e=v()(".partner").css("font-size");e=parseFloat(e)+1;return v()(".partner").css("font-size",e),!1})),v()(".decreaseMisc").click((function(){v()(".partner").css("font-size");var e=v()(".partner").css("font-size");e=parseFloat(e)-1;return v()(".partner").css("font-size",e),!1}));var t=v()(".partner1").css("margin-top");v()(".resetLogoMargin").click((function(){v()(".partner1").css("margin-top",t)})),v()(".increaseMisc").click((function(){var e=v()(".partner1").css("margin-top");e=parseFloat(e)+1;return v()(".partner1").css("margin-top",e),!1})),v()(".decreaseMisc").click((function(){v()(".partner1").css("margin-top");var e=v()(".partner1").css("font-size");e=parseFloat(e)-1;return v()(".partner1").css("font-size",e),!1})),v()(".partner1file").change((function(e){for(var t=0;t<e.originalEvent.srcElement.files.length;t++){var r=e.originalEvent.srcElement.files[t],s=document.createElement("img");s.className="partner1img";var a=new FileReader;a.onloadend=function(){s.src=a.result},a.readAsDataURL(r),v()(".partner1").append(s)}})),v()("#button").click((function(){v()(".partnerContainer").css({float:"left"}),v()(".partnerContainer").animate({width:"50%",height:"58px"},500),v()(".partner1").animate({width:"50%",float:"right"},500)}))})):this.isPartner?v()((function(){v()(".resetMePartner1").click((function(){var e=v()(".partner1 img").css("height");v()(".partner1 img").css("height",e),v()(".partner1").append(e)})),v()(".increasePartner1").click((function(){var e=v()(".partner1 img").css("height");e=parseFloat(e)+5;return v()(".partner1 img").css("height",e),!1})),v()(".decreasePartner1").click((function(){var e=v()(".partner1 img").css("height");e=v()(".partner1 img").css("height"),e=parseFloat(e)-5;return v()(".partner1 img").css("height",e),!1})),v()(".resetMePartner2").click((function(){var e=v()(".partner2 img").css("height");v()(".partner2 img").css("height",e),v()(".partner2").append(e)})),v()(".increasePartner2").click((function(){var e=275,t=v()(".partner2 img").css("width"),r=v()(".partner2 img").css("height"),s=(t=parseFloat(t),parseFloat(r)+5);return t==e&&(alert("Maximum width reached! Try to keep the logo text height at 30px"),v()(".partner2 img").css("width",e),v()(".partner2 img").css("height","auto")),t>e&&(v()(".partner2 img").css("width",e),v()(".partner2 img").css("height","auto")),t<e&&v()(".partner2 img").css("height",s),!1})),v()(".decreasePartner2").click((function(){var e=275,t=v()(".partner2 img").css("width"),r=v()(".partner2 img").css("height"),s=(t=parseFloat(t),parseFloat(r)-5);return v()(".partner2 img").css("width",""),t==e&&(v()(".partner2 img").css("height",s),v()(".partner2 img").css("max-width",e)),t>e&&(v()(".partner2 img").css("height",s),v()(".partner2 img").css("max-width",e)),t<e&&(v()(".partner2 img").css("height",s),v()(".partner2 img").css("max-width",e)),!1}));var e=v()(".misc").css("font-size");v()(".resetMeMisc").click((function(){v()(".misc").css("font-size",e)})),v()(".increaseMisc").click((function(){var e=v()(".misc").css("font-size");e=parseFloat(e)+1;return v()(".misc").css("font-size",e),!1})),v()(".decreaseMisc").click((function(){v()(".misc").css("font-size");var e=v()(".misc").css("font-size");e=parseFloat(e)-1;return v()(".misc").css("font-size",e),!1})),v()(".partner1file").change((function(e){for(var t=0;t<e.originalEvent.srcElement.files.length;t++){var r=e.originalEvent.srcElement.files[t],s=document.createElement("img");s.className="partner1img";var a=new FileReader;a.onloadend=function(){s.src=a.result},a.readAsDataURL(r),v()(".partner1").append(s)}})),v()(".partner2file").change((function(e){for(var t=0;t<e.originalEvent.srcElement.files.length;t++){var r=e.originalEvent.srcElement.files[t],s=document.createElement("img");s.className="partner2img";var a=new FileReader;a.onloadend=function(){s.src=a.result},a.readAsDataURL(r),v()(".partner2").append(s)}v()(".partner2").css({display:"block","padding-top":"20px"})}))})):v()((function(){var e=v()(".supporter").css("font-size");v()(".resetMe").click((function(){v()(".supporter").css("font-size",e)})),v()(".increase").click((function(){var e=v()(".supporter").css("font-size");e=parseFloat(e)+1;return v()(".supporter").css("font-size",e),!1})),v()(".decrease").click((function(){v()(".supporter").css("font-size");var e=v()(".supporter").css("font-size");e=parseFloat(e)-1;return v()(".supporter").css("font-size",e),!1}));e=v()(".misc").css("font-size");v()(".resetMeMisc").click((function(){v()(".misc").css("font-size",e)})),v()(".increaseMisc").click((function(){var e=v()(".misc").css("font-size");e=parseFloat(e)+1;return v()(".misc").css("font-size",e),!1})),v()(".decreaseMisc").click((function(){v()(".misc").css("font-size");var e=v()(".misc").css("font-size");e=parseFloat(e)-1;return v()(".misc").css("font-size",e),!1}))}))}},q=w,C=(r("1866"),r("2877")),k=Object(C["a"])(q,p,d,!1,null,"4c3007ef",null),_=k.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{ref:"dialog",staticStyle:{position:"relative"},attrs:{persistent:!!e.csv},on:{hide:e.onDialogHide}},[r("q-card",{staticClass:"q-dialog-plugin"},[e.loading?r("div",{staticClass:"row full-width full-height justify-center items-center"},[r("q-spinner",{staticClass:"q-ma-xl",attrs:{color:"primary",size:"3em",thickness:10}})],1):[r("q-card-section",{staticClass:"bg-primary text-h6 text-white q-mb-md"},[e._v("\n        Import Supporters/Partners\n      ")]),r("q-card-section",[r("q-expansion-item",{attrs:{label:"Instructions","header-style":"border: 1px solid","header-class":"q-pa-sm"}},[r("div",{staticClass:"text-subtitle"},[r("ol",{staticClass:"supp-instructions"},[r("li",[e._v('\n                In Excel, click "save as", and select ".csv" file type. Then double check that the spreadsheet still looks normal after saving in the new file format.\n              ')]),r("li",[e._v("\n                Ensure that the list being imported is accurate - remove any\n                outdated supporters, correct any spelling, and remove any errors\n                such as 1 cell containing multiple entries, etc.\n              ")]),r("li",[e._v("\n                Click to indicate if partners or supporters are being imported.\n                (List should only contain one type).\n              ")]),r("li",[e._v("Click on the box below to upload your file.")]),r("li",[e._v("\n                Afterwards, you will be prompted to verify that the results have\n                been processed correctly. You may then click submit to complete\n                the process.\n              ")])])])])],1),r("q-card-section",[r("q-option-group",{attrs:{type:"radio",inline:"",options:[{label:"Supporters",value:"supporter"},{label:"Partners",value:"partner"}]},model:{value:e.partnerSupporter,callback:function(t){e.partnerSupporter=t},expression:"partnerSupporter"}}),r("q-file",{attrs:{filled:"",label:"Import Partner/Supporter list from CSV",accept:".csv"},on:{input:e.readCSV},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"upload_file"}})]},proxy:!0}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e.csv?r("div",[r("div",{staticClass:"q-my-md"},[e._v("\n            Please briefly verify the results for accuracy before submitting. If\n            there are any issues, correct them in the CSV file, save, and try\n            again.\n          ")]),e.csv.length>e.filteredCsv.length?r("div",{staticClass:"text-negative"},[e._v("* Some duplicate entries were omitted.")]):e._e(),r("q-virtual-scroll",{staticStyle:{height:"30vh"},attrs:{items:e.filteredCsv.length?e.filteredCsv:["No unique entries found."],separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item,a=t.index;return[r("li",{key:"supp"+a,staticClass:"supp-import-results"},[e._v("\n                "+e._s(s)+"\n              ")])]}}],null,!1,3186345197)})],1):e._e()],1),r("q-separator"),r("q-card-actions",{staticClass:"row justify-end"},[e.csv?r("q-btn",{staticClass:"bg-negative text-white q-mr-sm",attrs:{label:"Reset Form","no-caps":""},on:{click:e.reset}}):e._e(),r("q-btn",{staticClass:"bg-negative text-white q-mr-sm",attrs:{label:"Cancel","no-caps":""},on:{click:e.onCancelClick}}),r("q-btn",{attrs:{label:"Submit","no-caps":"",disable:!e.csv||!e.partnerSupporter},on:{click:e.submit}})],1)]],2)],1)},O=[],P=(r("6762"),r("2fdb"),r("28a5"),r("24e8")),j=r("95bf"),E=r("2ef0"),T=r.n(E),D={props:["partners","importMethod"],mixins:[j["a"]],components:{"q-dialog":P["a"]},data:function(){return{file:null,csv:null,partnerSupporter:null,loading:!1}},methods:{reset:function(){this.file=null,this.csv=null,this.partnerSupporter=null},submit:function(){var e=this;this.loading=!0,this.importMethod({list:this.filteredCsv,type:this.partnerSupporter}).then((function(t){e.loading=!1,e.trNotify(t?"".concat(e.partnerSupporter," list updated."):"There was an issue with your request."),t&&e.hide()}))},readCSV:function(){var e=this,t=new FileReader;t.onload=function(t){e.csv=t.target.result.replace(/,+/gm,",").replace(/^,\s?(\n|$)/gm,"").replace(/^"([^"]+)"/gm,"$1").replace(/\s+,/gm,",").replace(/,?[^,]+$/gm,",").split(/,\n/).map((function(e){return e.trim()})),e.csv=T.a.uniq(e.csv),e.csv[e.csv.length-1]=e.csv[e.csv.length-1].replace(/,$/,"")},t.readAsText(this.file)},show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(e){this.$emit("ok",e),this.hide()},onCancelClick:function(){this.hide()}},computed:{partnerNames:function(){var e=this;return Object.keys(this.partners).filter((function(t){return"partner"==e.partners[t].partnerOrSupporter})).map((function(t){return e.partners[t].primaryName}))},supporterNames:function(){var e=this;return Object.keys(this.partners).filter((function(t){return"supporter"==e.partners[t].partnerOrSupporter})).map((function(t){return e.partners[t].primaryName}))},filteredCsv:function(){var e=this;return this.partnerSupporter&&this.csv?this.csv.filter((function(t){return"supporter"==e.partnerSupporter?!e.supporterNames.includes(t):!e.partnerNames.includes(t)})):this.csv}}},R=D,N=(r("690b"),Object(C["a"])(R,S,O,!1,null,null,null)),z=N.exports;function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M={mixins:[u["a"]],props:["supporterRoute"],components:{"badge-generator":_},data:function(){return{selectedID:null,partnerSearch:"",createEdit:!1,names:[],badgeType:null,badgeTypes:["US","OUS","Partner"],logos:[],statements:"",badges:{},badgeRemoved:!1,partnerOrSupporter:null,primaryName:""}},computed:$($({},Object(l["c"])("settings",["partners"])),{},{selected:function(){return{primaryName:this.primaryName,badges:this.badges,altNames:this.names,dateAdded:Date.now(),partnerLogos:this.logos,partnerStatements:this.statements,partnerOrSupporter:this.partnerOrSupporter}},filterPartners:function(){var e=this,t=this.partnerSearch.toLowerCase();return Object.keys(this.partners).map((function(t){return Object.freeze(e.partners[t])})).filter((function(e){return e.primaryName.toLowerCase().indexOf(t)>-1||e.altNames&&e.altNames.find((function(e){return e.toLowerCase().indexOf(t)>-1}))})).sort((function(e,t){return e.primaryName<t.primaryName?-1:e.primaryName>t.primaryName?1:0}))}}),methods:$($({},Object(l["b"])("settings",["removePartner","addPartner","removePartnerBadge","importSupporters"])),{},{importModal:function(){this.$q.dialog({component:z,partners:this.partners,importMethod:this.importSupporters})},hideGenerator:function(){this.badgeType=null},maybeClear:function(e){"Escape"==e.key&&(this.partnerSearch="")},preRemoveBadge:function(e){y["default"].delete(this.badges,e),null!=this.selectedID&&(this.badgeRemoved=!0)},validateAndAdd:function(e,t){this.$refs.partnerLogos.validate(e)?(this.$refs.partnerLogos.resetValidation(),t(e)):console.log("val: ",e)},scrollWindow:function(){this.$root.$emit("scrollMax")},submitPartner:function(){var e=this;this.badgeRemoved?this.$q.dialog({title:"Confirm",transitionHide:"jump-down",transitionShow:"jump-up",message:"Continue? Selected badges will be permanently removed. You may undo any changes by closing the edit panel.",cancel:!0}).onOk((function(){e.proceedSubmit()})):this.proceedSubmit()},proceedSubmit:function(){var e=this;this.selected.dateAdded=Date.now(),this.addPartner({partner:this.selected,partnerID:this.selectedID}).then((function(t){e.trNotify(t.message,t.ok?null:"negative"),t.ok&&e.closeDetails()}))},closeDetails:function(){this.setEdit(!1),this.selectedID=null,this.partnerSearch="",this.primaryName="",this.names=[],this.badgeType=null,this.logos=[],this.statements="",this.badges={},this.badgeRemoved=!1,this.partnerOrSupporter=null},setEdit:function(e){this.createEdit=e,this.$emit("createEdit",e)},select:function(e){var t=this,r=Object.keys(this.partners).find((function(r){return t.partners[r].primaryName===e}));this.selectedID=r;var s=this.partners[r];this.partnerSearch=e,this.primaryName=e,this.selectedID=r,this.logos=s.partnerLogos||[],this.names=s.altNames||[],this.setEdit(!1),this.statements=s.partnerStatements||"",this.badges=Object.assign({},s.badges),this.partnerOrSupporter=s.partnerOrSupporter},triggerCreate:function(){var e=this.partnerSearch;this.closeDetails(),this.setEdit(!0),this.primaryName=e},preRemovePartner:function(e){var t=this;this.$q.dialog({title:"Confirm",message:"Are you sure you want to remove this partner?",cancel:!0,persistent:!0}).onOk((function(){t.removePartner(e).then((function(e){t.trNotify(e.message,e.ok?null:"negative"),e.ok&&t.closeDetails()}))}))}}),mounted:function(){this.supporterRoute&&this.select(this.supporterRoute)}},U=M,I=Object(C["a"])(U,o,c,!1,null,null,null),L=I.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row justify-evenly q-my-lg"},[r("div",{staticClass:"row user-form"},[r("q-form",{ref:"userForm",staticStyle:{width:"inherit"},on:{submit:e.userCreateorEdit,reset:e.resetValidations}},[r("q-card",{staticClass:"user-card q-ma-md"},[r("q-card-section",{staticClass:"text-h6 bg-primary text-white"},[e._v("\n                    "+e._s("create"==e.formType?"Add a Team Member":"Edit User")+"\n                ")]),r("q-separator"),r("q-card-section",[r("q-input",{ref:"email",attrs:{label:"Email (Medscape or WebMD email account required)",rules:e.emailRules,"lazy-rules":"",disable:"edit"==e.formType},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("q-separator"),r("q-card-section",[r("q-select",{ref:"role",attrs:{options:e.roleOptions,"emit-value":"","map-options":"",rules:[function(e){return!!e||"Field is required"}],label:"Select Role (required)"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),r("q-card-actions",{attrs:{align:"right"}},["edit"==e.formType?r("q-btn",{attrs:{label:"Cancel"},on:{click:e.clearForm}}):e._e(),r("q-btn",{staticClass:"bg-primary text-white",attrs:{type:"submit",label:"create"==e.formType?"Create User":"Edit User"}})],1)],1)],1)],1),r("div",{staticClass:"row"},[r("div",[r("q-list",{attrs:{bordered:"",separator:""}},[r("q-item",{staticClass:"items-center"},[r("q-input",{attrs:{label:"Search Users"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-btn",{staticStyle:{cursor:"pointer"},attrs:{ripple:"",icon:"search",rounded:"",flat:"",name:"search"}})]},proxy:!0}]),model:{value:e.userFilter,callback:function(t){e.userFilter=t},expression:"userFilter"}}),r("q-toggle",{attrs:{icon:"group"},model:{value:e.showTeam,callback:function(t){e.showTeam=t},expression:"showTeam"}},[e.showTeam?r("q-tooltip",{attrs:{"content-class":"bg-primary text-white text-body1"}},[e._v("\n                  Showing only team members\n              ")]):r("q-tooltip",{attrs:{"content-class":"bg-primary text-white text-body1"}},[e._v("\n                  Showing all users\n              ")])],1)],1)],1),r("list-users",{attrs:{userList:e.filteredOrgUsers,editUsers:""},on:{editUser:e.setEdit}}),r("q-separator")],1)])])},A=[],V=r("537e");function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={mixins:[u["a"]],components:{"list-users":V["a"]},data:function(){return{userFilter:"",email:"",role:"",showTeam:!0,formType:"create"}},computed:G(G({},Object(l["c"])("auth",["teamUsers","user","roles","orgUsers"])),{},{filteredOrgUsers:function(){var e=this,t=this.userFilter.toLowerCase();return this.userNames.map((function(t){var r=e.orgUsers[t];return{email:t,role:r.role,team:r.profile.team,uid:r.uid,fullName:r.profile.fullName?r.profile.fullName:null}})).filter((function(e){return e.email.toLowerCase().indexOf(t)>-1||e.fullName&&e.fullName.toLowerCase().indexOf(t)>-1})).sort((function(e,t){return e.email<t.email?-1:e.email>t.email?1:0}))},userNames:function(){return this.showTeam?Object.keys(this.teamUsers):Object.keys(this.orgUsers)},roleOptions:function(){var e=this;return Object.keys(this.roles).filter((function(e){return"teamLeader"!=e&&"pmTeamLead"!=e&&"admin"!=e&&"guest"!=e})).map((function(t){return{value:t,label:e.getRoleLabel(t)}})).sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},emailRules:function(){var e=this;return"create"==this.formType?[function(e){return/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(e)||"Not a valid email address."},function(t){return!e.userNames.find((function(e){return t==e}))||"User already exists"}]:null}}),methods:G(G({},Object(l["b"])("auth",["createUser","editUser"])),{},{resetValidations:function(){this.$refs.role.resetValidation(),this.$refs.email.resetValidation()},userCreateorEdit:function(){var e=this,t={email:this.email,role:this.role,team:this.user.profile.team};"create"==this.formType?this.createUser(t).then((function(t){e.trNotify(t.message,t.ok?null:"negative"),t.ok&&e.clearForm()})):this.editUser(t).then((function(t){e.trNotify(t.message,t.ok?null:"negative"),t.ok&&e.clearForm()}))},setEdit:function(e){var t=this,r=Object.keys(this.orgUsers).find((function(r){return t.orgUsers[r].uid==e})),s=this.orgUsers[r];this.email=r,this.role=s.role,this.formType="edit"},clearForm:function(){this.email="",this.role="",this.formType="create",this.$refs.userForm.reset()}})},W=Y,X=Object(C["a"])(W,B,A,!1,null,"542f5e68",null),J=X.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row justify-evenly q-my-auto"},[r("q-card",[r("q-form",{ref:"feedbackForm",on:{reset:e.reset,submit:e.submit}},[r("q-card-section",{staticClass:"bg-primary text-white text-h6 q-px-lg text-center"},[e._v("\n              Submit Feedback "),r("q-icon",{staticClass:"float-right",attrs:{name:"rate_review"}})],1),e.successMessage?[r("q-card-section",{staticClass:"text-right"},[r("div",[e._v("\n                      Thank you for your feedback! We will respond as soon as possible.\n                  ")]),r("q-btn",{staticClass:"bg-primary text-white q-mt-md",attrs:{label:"back"},on:{click:function(t){e.successMessage=!1}}})],1)]:[r("q-card-section",[r("div",{staticClass:"q-my-md text-bold text-body2 text-center"},[e._v("\n                  Before you begin: Have you read Ticket Runner's "),r("a",{staticClass:"text-primary",attrs:{href:"../../statics/TicketRunnerDocs.pdf",target:"_blank"}},[e._v("documentation")]),e._v("?\n              ")]),r("q-select",{attrs:{options:e.feedbackTypes,"emit-value":"","map-options":"",label:"Select Type of Report"},model:{value:e.feedbackType,callback:function(t){e.feedbackType=t},expression:"feedbackType"}})],1),r("q-card-section",[r("div",["feedback"==e.feedbackType?[r("q-input",{staticClass:"q-mb-md",attrs:{label:"Subject Line",hint:"Brief summary of the issue or subject matter",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}}),r("q-input",{staticClass:"q-mb-md",attrs:{label:"Details",type:"textarea",hint:"If applicable, please describe how the app currently behaves vs. what you were expecting.",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}})]:"bug"==e.feedbackType?[r("q-select",{staticClass:"q-mb-md",attrs:{label:"Type of Issue",options:e.issueTypes,"emit-value":"","map-options":""},model:{value:e.issueType,callback:function(t){e.issueType=t},expression:"issueType"}}),r("q-input",{staticClass:"q-mb-md",attrs:{label:"Details",type:"textarea",hint:"Please describe the issue and what you were doing when it occured",rules:[function(e){return!!e||"Field is required"}]},model:{value:e.details,callback:function(t){e.details=t},expression:"details"}}),r("q-input",{staticClass:"q-mb-md",attrs:{label:"Expected Behaviour vs. Current Behaviour (optional)",type:"textarea",hint:"If applicable, please describe how the app is currently behaving regarding this issue vs. what you would expect it to do."},model:{value:e.expected,callback:function(t){e.expected=t},expression:"expected"}}),r("q-input",{staticClass:"q-mb-md",attrs:{label:"Error Messages (Optional)",type:"textarea",hint:"If possible, please paste any recent error messages from your browser's console (press control + shift + i to view console in Chome/Firefox)"},model:{value:e.errors,callback:function(t){e.errors=t},expression:"errors"}})]:e._e()],2),r("div",{staticClass:"text-right"},[r("q-checkbox",{attrs:{label:"Request a response to this issue"},model:{value:e.respond,callback:function(t){e.respond=t},expression:"respond"}}),r("div",{staticClass:"q-mx-md",class:e.respond?"":"tr-hidden"},[e._v("\n                  Responses will be sent to the email address associated with this account: "),r("span",{staticClass:"text-primary"},[e._v(e._s(e.username))])])],1)]),e.feedbackType?r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{attrs:{label:"reset",type:"reset"}}),r("q-btn",{staticClass:"bg-primary text-white",attrs:{label:"submit",type:"submit"}})],1):e._e()]],2)],1),"admin"==e.user.role?r("feedback-viewer"):e._e()],1)},K=[],Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"feedback-view full-width"},[r("div",{staticClass:"text-h6 row justify-between q-mb-sm",staticStyle:{"max-width":"30%"}},[r("span",[e._v("Feedback Submissions")]),r("q-icon",{staticStyle:{"font-size":"1.5em"},attrs:{name:"admin_panel_settings",color:"negative"}})],1),e._l(e.feedback,(function(t,s){return r("q-card",{key:s,staticClass:"q-mb-md feedback-item",staticStyle:{"max-width":"500px"}},[r("q-card-section",{staticClass:"bg-warning row justify-between"},[r("span",[e._v(e._s(t.user))]),r("span",[e._v(e._s(e.displayDate(t.time)))])]),r("q-separator"),t.issue.subject?r("q-card-section",{staticClass:"row justify-between"},[r("span",{staticClass:"text-primary"},[e._v("Subject: ")]),r("span",[e._v(e._s(t.issue.subject))])]):e._e(),r("q-separator"),r("q-card-section",{staticClass:"row justify-between"},[r("span",{staticClass:"text-primary"},[e._v("Response requested:")]),r("span",[e._v(e._s(t.issue.respond?"Yes":"No"))])]),r("q-separator"),r("q-card-section",{staticClass:"row justify-between"},[r("span",{staticClass:"text-primary"},[e._v("User Agent:")]),r("span",[e._v(e._s(t.useragent))])]),r("q-separator"),r("q-card-section",[r("div",{staticClass:"text-primary"},[e._v("Details:")]),r("div",[e._v(e._s(t.issue.details))])]),r("q-separator"),"bug"==t.type?r("q-card-section",[r("div",{staticClass:"text-primary"},[e._v("Issue Type:")]),r("div",[e._v(e._s(t.issue.issueType))]),r("q-separator"),r("div",{staticClass:"text-primary"},[e._v("Errors:")]),r("div",[e._v(e._s(t.issue.errors))]),r("q-separator"),r("div",{staticClass:"text-primary"},[e._v("Expected Behavior:")]),r("div",[e._v(e._s(t.issue.expected))]),r("q-separator"),r("q-btn",{attrs:{label:"Console log ticket data"},on:{click:function(r){return e.logData(t)}}})],1):e._e()],1)}))],2)},ee=[];function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={mixins:[u["a"]],data:function(){return{feedback:{}}},methods:re(re({},Object(l["b"])("settings",["fetchFeedback"])),{},{logData:function(e){console.log("issue: ",e)}}),mounted:function(){var e=this;this.fetchFeedback().then((function(t){e.feedback=t}))}},ae=se,ie=(r("c4c6"),Object(C["a"])(ae,Q,ee,!1,null,null,null)),ne=ie.exports;function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le={components:{"feedback-viewer":ne},mixins:[u["a"]],data:function(){return{feedbackTypes:[{label:"Submit Feedback",value:"feedback"},{label:"Report Issue",value:"bug"}],feedbackType:null,issueTypes:[{label:"Submitting (submission fails or ticket is saved incorrectly)",value:"submit"},{label:"Problem adding comments/flags",value:"comment"},{label:"Problem viewing tickets",value:"viewTicket"},{label:"Supporter list",value:"supporters"},{label:"Editing issue",value:"editing"},{label:"Performance issues",value:"performance"},{label:"Other",value:"other"}],issueType:"",respond:!1,subject:"",details:"",expected:"",errors:"",successMessage:!1}},computed:ce({},Object(l["c"])("auth",["username","user"])),methods:ce(ce({},Object(l["b"])("tickets",["submitFeedback"])),{},{reset:function(){this.expected="",this.details="",this.subject="",this.respond=!1,this.feedbackType=null,this.$refs.feedbackForm.resetValidation()},submit:function(){var e=this,t=this.$refs.feedbackForm.validate();if(t){var r={issue:{details:this.details,respond:this.respond},user:this.username,useragent:navigator.userAgent,time:Date.now()};"feedback"==this.feedbackType?(r.issue.subject=this.subject,r.type="feedback"):(r.type="bug",r.issue.expected=this.expected,r.issue.errors=this.errors,r.issue.issueType=this.issueType),this.submitFeedback(r).then((function(t){e.trNotify(t.message,t.ok?null:"bg-negative"),t.ok&&(e.respond&&(e.successMessage=!0),e.reset())}))}}})},ue=le,pe=Object(C["a"])(ue,Z,K,!1,null,null,null),de=pe.exports,me=r("f262"),fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row items-start justify-center"},[r("q-card",{staticClass:"image-creator q-mr-lg"},[r("q-card-section",{staticClass:"bg-primary text-white text-h6"},[e._v("\r\n            Add Elements\r\n        ")]),r("q-card-section",{staticClass:"q-mb-md"},[r("div",{staticClass:"row items-start justify-evenly"},[r("q-file",{staticClass:"q-mb-md q-mr-sm col-5",staticStyle:{"min-width":"150px"},attrs:{label:"Add Image (jpg or png)",accept:".jpg,.png"},on:{input:e.setImage},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),r("q-btn",{staticClass:"col-5 q-pa-md bg-grey-2",attrs:{icon:"add","no-caps":"",label:"Add text"},on:{click:e.addText}})],1),Object.keys(e.images).length||Object.keys(e.textBlocks).length?r("q-list",{staticClass:"full-width",attrs:{bordered:"",separator:""}},[e._l(e.textBlocks,(function(t,s){return r("q-item",{key:"ti"+s},[r("q-item-section",[r("q-item-label",[r("custom-editor",{attrs:{immediate:""},model:{value:t.text,callback:function(r){e.$set(t,"text",r)},expression:"text.text"}})],1),r("q-item-label",{staticClass:"row"},[r("q-slider",{staticClass:"col-grow",attrs:{min:5,max:50,"label-value":"Font-Size: "+t.fontSize+"px","label-always":"",label:""},model:{value:t.fontSize,callback:function(r){e.$set(t,"fontSize",r)},expression:"text.fontSize"}}),r("div",{staticClass:"col-shrink"},[r("q-btn",{staticClass:"bg-positive text-white q-mx-sm",attrs:{label:"Reset Position","no-caps":""},on:{click:function(t){return e.resetPosition("text",s)}}}),r("q-btn",{staticClass:"bg-negative text-white col-shrink",attrs:{label:"X"},on:{click:function(t){return e.removeItem("text",s)}}})],1)],1)],1)],1)})),e._l(e.images,(function(t,s){return r("q-item",{key:"li"+s},[r("q-item-section",{staticClass:"text-primary",attrs:{avatar:""}},[e._v("\r\n                        "+e._s(t.name)+"\r\n                    ")]),r("q-item-section",[r("q-item-label",[r("q-slider",{attrs:{min:10,max:66,label:"","label-always":"","label-value":"Height: "+t.height+"px"},model:{value:t.height,callback:function(r){e.$set(t,"height",r)},expression:"image.height"}})],1)],1),r("q-item-section",{staticClass:"col-shrink"},[r("q-btn",{staticClass:"bg-negative text-white",attrs:{label:"X"},on:{click:function(t){return e.removeItem("image",s)}}})],1)],1)}))],2):e._e()],1)],1),r("q-card",[r("q-card-section",{staticClass:"bg-primary text-white text-h6"},[e._v("\r\n            Image Preview\r\n        ")]),r("q-card-section",[r("div",{staticClass:"q-mb-md"},[r("div",[e._v("Click and hold to drag and reposition text/images inside the badge.")]),r("div",[e._v("Note: actual size is 1/2 of the preview.")])]),r("div",{staticClass:"html-content-holder"},[e._l(e.images,(function(t,s){return r("img",{key:"img"+s,staticClass:"content-image",attrs:{src:t.src,height:t.height,id:"image-"+s},on:{mousedown:function(t){return e.mouseDown(t,s,"image")}}})})),e._l(e.textBlocks,(function(t,s){return r("div",{key:"tdiv"+s,staticClass:"content-image",style:{"font-weight":t.bold?"bold":null,"font-size":t.fontSize+"px"},attrs:{id:"text-"+s},domProps:{innerHTML:e._s(t.text)},on:{mousedown:function(t){return e.mouseDown(t,s,"text")}}})}))],2)]),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{staticClass:"bg-positive text-white q-mr-sm",attrs:{icon:"check"},on:{click:e.createBadge}},[r("q-tooltip",{attrs:{"content-class":"bg-primary text-body2"}},[e._v("\r\n                    Create Badge.\r\n                ")])],1),r("q-btn",{staticClass:"bg-negative text-white q-mr-sm",attrs:{icon:"close"},on:{click:e.reset}},[r("q-tooltip",{attrs:{"content-class":"bg-primary text-body2"}},[e._v("\r\n                    Reset to blank image.\r\n                ")])],1),r("q-btn",{attrs:{icon:"format_align_center"},on:{click:e.alignItems}},[r("q-tooltip",{attrs:{"content-class":"bg-primary text-body2"}},[e._v("\r\n                    Align items to center.\r\n                ")])],1)],1)],1),r("div",{staticClass:"row justify-center items-center q-mb-md"})],1)},he=[],be=(r("7f7f"),r("65d6")),ge={components:{CustomEditor:be["a"]},data:function(){return{file:null,text:"",images:{},textBlocks:{},mousedown:null,output:null}},methods:{alignItems:function(){},reset:function(){this.file=null,this.text=null,this.images={},this.textBlocks={},this.output=null,this.clearImages()},resetPosition:function(e,t){var r=document.getElementById("".concat(e,"-").concat(t));r.style.left=0,r.style.top=0},createBadge:function(){var e=this;return b()(f.a.mark((function t(){var r,s,a,i,n;return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.querySelector(".html-content-holder"),s={type:"dataURL",dpi:144,scale:.5},t.next=4,e.$html2canvas(r,s);case 4:e.output=t.sent,a=e.output.replace(/^data:image\/png/,"data:application/octet-stream"),i="replace-badge-name.png",n=document.createElement("a"),n.href=a,n.download=i,n.click();case 11:case"end":return t.stop()}}),t)})))()},removeItem:function(e,t){var r;r="image"==e?Object.assign({},this.images):Object.assign({},this.textBlocks),delete r[t],y["default"].set(this,"image"==e?"images":"textBlocks",r)},mouseDown:function(e,t,r){var s=document.getElementById("".concat(r,"-").concat(t)),a=document.querySelector(".html-content-holder"),i=a.getBoundingClientRect(),n=i.bottom-s.offsetHeight,o=i.right-s.offsetWidth,c=e.clientX-s.getBoundingClientRect().left,l=e.clientY-s.getBoundingClientRect().top;function u(e,t){var r=e-c,a=t-l;r>i.left&&r<o&&(s.style.left=e-c+"px"),a>i.top&&a<n&&(s.style.top=t-l+"px")}function p(e){u(e.pageX,e.pageY)}function d(){document.removeEventListener("mousemove",p);var e=i.top,t=i.left,r=s.getBoundingClientRect().left,n=s.getBoundingClientRect().top;a.append(s),s.style.position="absolute",s.style.left=r-t+"px",s.style.top=n-e+"px",document.onmouseup=null}document.body.append(s),document.addEventListener("mousemove",p),s.ondragstart=function(){return!1},document.onmouseup=d},setImage:function(){var e=this,t=new FileReader;t.onload=function(t){y["default"].set(e.images,Object.keys(e.images).length+1,{src:t.target.result,height:66,name:e.file.name}),e.file=null},t.readAsDataURL(this.file)},addText:function(){y["default"].set(this.textBlocks,Object.keys(this.textBlocks).length+1,{text:"",fontSize:12})},clearImages:function(){var e=document.querySelectorAll(".content-image");e.forEach((function(e){return e.remove()}))}},beforeDestroy:function(){this.clearImages()}},ve=ge,ye=(r("fa1a"),Object(C["a"])(ve,fe,he,!1,null,"8737616a",null)),xe=ye.exports;function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce={mixins:[me["a"]],data:function(){return{splitterModel:50,view:null,routeGuarded:!1,supporterRoute:null}},components:{SupporterList:L,UserList:J,FeedbackForm:de,NewBadgeGenerator:xe},computed:{title:function(){switch(this.view){case"supporterList":return"Partners/Supporters";case"userList":return"Partners/Supporters";case"feedback":return"Partners/Supporters";case"badgeCreator":return"Badge Creation Tool";default:return"Settings & Tools"}}},methods:qe(qe({},Object(l["b"])("settings",["fetchPartners"])),{},{routeToUserDocs:function(){window.open("../statics/TicketRunnerDocs.pdf","_blank")},guardRoute:function(e){this.routeGuarded=e},setView:function(e,t,r){var s=this;r||(this.supporterRoute=null),t?this.$q.dialog({transitionHide:"jump-down",transitionShow:"jump-up",title:"Confirm",message:"Continue and discard unsaved changes?",cancel:!0}).onOk((function(){s.view=e,s.guardRoute(!1)})):this.view=e},scrollIt:function(){var e=document.querySelector("#badgeCreator").offsetTop;this.$refs.scrollArea.setScrollPosition(e,300)}}),mounted:function(){var e=this;this.fetchPartners(),this.$route.query.view&&(this.$route.query.supporter&&(this.supporterRoute=this.$route.query.supporter),this.setView(this.$route.query.view,null,!0)),this.$root.$on("scrollMax",(function(){y["default"].nextTick().then((function(){e.scrollIt()}))}))},beforeRouteLeave:function(e,t,r){this.routeGuarded?(this.$q.dialog({transitionHide:"jump-down",transitionShow:"jump-up",title:"Confirm",message:"Continue and discard unsaved changes?",cancel:!0}).onOk((function(){r()})),r(!1)):r()},beforeDestroy:function(){this.$root.$off("scrollMax")}},ke=Ce,_e=(r("9d26"),Object(C["a"])(ke,s,a,!1,null,null,null));t["default"]=_e.exports},5572:function(e,t,r){},"57a1":function(e,t,r){},"690b":function(e,t,r){"use strict";var s=r("7acd"),a=r.n(s);a.a},"7acd":function(e,t,r){},"9d26":function(e,t,r){"use strict";var s=r("57a1"),a=r.n(s);a.a},c4c6:function(e,t,r){"use strict";var s=r("febd"),a=r.n(s);a.a},fa1a:function(e,t,r){"use strict";var s=r("fed7"),a=r.n(s);a.a},febd:function(e,t,r){},fed7:function(e,t,r){}}]);